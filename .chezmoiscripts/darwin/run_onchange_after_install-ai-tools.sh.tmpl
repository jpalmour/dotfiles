#!/usr/bin/env bash
set -eo pipefail

# Load nvm and use the default version
if [ -s "$HOME/.nvm/nvm.sh" ]; then
  . "$HOME/.nvm/nvm.sh"
  nvm use default
fi

# Install or update Claude Code via native installer
curl -fsSL https://claude.ai/install.sh | bash

# Install/upgrade additional AI CLI tools
{{- if not .is_work_machine }}
npm install -g @openai/codex @google/gemini-cli @google/jules
{{- end }}

