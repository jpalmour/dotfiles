Host *
  ServerAliveInterval 60
  ServerAliveCountMax 2
{{ if eq .chezmoi.os "darwin" }}
  UseKeychain yes
{{ end }}

Host github.com
  HostName github.com
  User git
  IdentitiesOnly yes
  IdentityFile ~/.ssh/{{- if and .is_work_machine (not .is_wsl) -}}id_ed25519_work{{- else -}}id_ed25519_dev{{- end }}

{{- if and .is_work_machine (not .is_wsl) }}

Host github-personal.com
  HostName github.com
  User git
  IdentitiesOnly yes
  IdentityFile ~/.ssh/id_ed25519_dev

{{- end }}
{{ if .is_wsl }}
{{ output "op.exe" "read" "op://Private/ssh-hosts/hosts" }}
{{ else }}
{{ onepasswordRead "op://Private/ssh-hosts/hosts" }}
{{ end }}
