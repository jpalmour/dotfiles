Host *
  ServerAliveInterval 60
  ServerAliveCountMax 2
  # Override TERM for compatibility with remote hosts that lack custom terminfo
  # (e.g., xterm-ghostty). xterm-256color is universally available.
  SetEnv TERM=xterm-256color
{{ if eq .chezmoi.os "darwin" }}
  UseKeychain yes
{{ end }}

Host github.com
  HostName github.com
  User git
  IdentitiesOnly yes
  IdentityFile ~/.ssh/{{- if .is_work_machine -}}id_ed25519_work{{- else -}}id_ed25519_dev{{- end }}

{{- if .is_work_machine }}

Host github-personal.com
  HostName github.com
  User git
  IdentitiesOnly yes
  IdentityFile ~/.ssh/id_ed25519_dev

{{- end }}
{{ if .is_wsl }}
{{ output "op.exe" "read" "op://Private/ssh-hosts/hosts" }}
{{ else }}
{{ onepasswordRead "op://Private/ssh-hosts/hosts" }}
{{ end }}
